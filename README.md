# پروژه ژنتیک
## توضیحات
در این پروژه می‌خواهیم یک الگوریتم ژنتیک برای حل مسئله‌ی کمینه کردن تابع فرمولی بهینه‌سازی کنیم

## نحوه نگاشت مسئله به درخت و محدودیت ها
برای نگاشت مسئله به درخت از یک درخت دودویی استفاده میکنیم که هر گره آن یک عملگر یا یک عدد است. عملگر ها شامل `+`، `-`، `*` ، `/` ، `sin` ، `cos`، `sqrt` ، `^` هستند. 
ضمنا گره ها میتوانند x , e , pi هم باشند
هر گره یک عمق دارد که از ریشه شروع میشود و به تعداد گره هایی که از ریشه به آن گره میرویم تعیین میشود.


## نحوه انتخاب جمعیت اولیه
برای انتخاب جمعیت اولیه تولید درخت های تصادفی با عمق تصادفی که عمق بین ۲ تا ۵ باشد انتخاب می‌کنیم.

## نحوه انتخاب والدین
برای انتخاب والدین، ابتدا بهترین درخت نسل قبل را انتخاب میکنیم، سپس ۲۰ درصد از بهترین درخت ها را به عنوان والد انتخاب میکنیم. و سپس ۳۰ درصد را به صورت تصادفی انتخاب میکنیم.


## نحوه تولید فرزندان
برای تولید فرزندان ابتدا یک نقطه تصادفی انتخاب میکنیم و سپس از این نقطه به بعد درخت های والدین را جابجا میکنیم.

## نحوه جایگزینی جمعیت
برای جایگزین کردن جمعیت، ابتدا بهترین درخت های نسل قبل را انتخاب میکنیم و سپس ۲۰ درصد از بهترین درخت ها را به عنوان جمعیت جدید انتخاب میکنیم. و سپس ۳۰ درصد را به صورت تصادفی انتخاب میکنیم.
سپس ۵۰ درصد از جمعیت جدید را با فرزندان جایگزین میکنیم.

## نحوه توقف
الگوریتم به تعداد نسل های مشخص شده که برسد توقف میکند

## چالش های مواجه شده
اصلی ترین چالش این بود که با اینکه بهترین درخت جهش پیدا نمیکند ولی افزایش MSE داشتیم 
که با تلاش های بسیار فهمیدم علتش Shallow Copy بود که باعث میشد موقع بازتولید درخت ها آدرس یک گره چند جا باشه و احتمال جهشش خیلی بره بالا
که با دیپ کپی کردن حلش کردم


## گزارش سه آزمایش انجام شده
### تابع اول
تابع بهینه سازی : `x^2 + 2x + 1`
#### نتیجه آزمایش اول 
```
Best tree MSE: 118.54505296112502
Length of MSE values: 300
Accuracy: 0.8882615742117748
```
#### نتیجه آزمایش دوم
```
Best tree: (x * (x + 2))
Best tree MSE: 101.0
Length of MSE values: 300
Accuracy: 0.9047992242383014
```
#### نتیجه آزمایش سوم
```
Best tree: (x + (x * x))
Best tree MSE: 135.006734006734
Length of MSE values: 300
Accuracy: 0.8727450909852043
```
### تابع دوم
تابع بهینه سازی : `x^3 + 2x^2 + 3x + 1`
#### نتیجه آزمایش اول 
```
Best tree: (((x * x) + x) * ((x + pi) - 0))
Best tree MSE: 357.02693602693614
Length of MSE values: 300
Accuracy: 0.9978764103693115
```
#### نتیجه آزمایش دوم
```
Best tree: ((x * x) + ((pi * x) + (((x * 8) + x) * x)))
Best tree MSE: 301.6817833113167
Length of MSE values: 300
Accuracy: 0.9982056023169098
```
#### نتیجه آزمایش سوم
```
Best tree: (x + ((9 - x) + ((2 + x) * (x * pi))))
Best tree MSE: 255.00673400673412
Length of MSE values: 300
Accuracy: 0.9984832246493256 
```
### تابع سوم
تابع بهینه سازی : `x^4 + 2x^3 + 3x^2 + 4x + 1`
#### نتیجه آزمایش اول 
```
Best tree: (((e ^ 0) + (1 + x)) + (cos(1) + (5 + ((0 + x) + ((9 * x) + (((1 + 1) + (10 * x)) + pi))))))
Best tree MSE: 62973.98127410105
Length of MSE values: 300
Accuracy: 0.9928671452297831
```
#### نتیجه آزمایش دوم
```
Best tree: (((9 + 6) * (pi + pi)) + ((e + x) + (((2 + x) * x) * pi)))
Best tree MSE: 9086.712321457537
Length of MSE values: 300
Accuracy: 0.9989707781211167
```
#### نتیجه آزمایش سوم
```
Best tree: ((sqrt(7) + (8 * 9)) + (cos(0) * (((x * x) + (x * 2)) * ((x * x) - cos((sqrt(2) + x))))))
Best tree MSE: 9955.658079221155
Length of MSE values: 300
Accuracy: 0.9988723555064443
```

## نتیجه گیری
با توجه به نتایج بالا میتوان گفت که الگوریتم ژنتیک برای حل مسائل بهینه سازی خوب عمل میکند و میتواند به جواب های نزدیک به جواب بهینه برسد.
